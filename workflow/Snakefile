###################################################
# Name: Snakefile
# Description: Main workflow for project ...
# Date: 1/8/22
###################################################

import glob
import os
import shutil
import random

# Import configuration, and needed parameters
configfile: "config/config.yaml"

num_datasets = config["NUM_DATASETS"]
base_dir = config["DATA_ROOT"]
repo_dir = config["REPO_DIRECTORY"]
exp_type = config["EXP_TYPE"]
num_reads_per_dataset =  config["READS_PER_DATASET"]
pbsim_model = config["PBSIM_MODEL"]


k_values = [str(x) for x in range(7, 23, 1)] + [str(x) for x in range(23, 37, 2)]

###############################################################################
# IMPORTANT: Sets the working directory based on configuration parameter, and 
#            it can be set on command-line using --config DATA_ROOT=""
###############################################################################
workdir: config["DATA_ROOT"]

###############################################################################
# Imports rules for each type of experiment
###############################################################################

include: "rules/exp_type_1.smk"
include: "rules/exp_type_2.smk"
include: "rules/exp_type_3.smk"
include: "rules/exp_type_4.smk"

#rule all:
#    input:
#        "within_dataset_analysis/within_dataset_analysis.csv",
#        "across_dataset_analysis/across_dataset_analysis.csv"

rule all:
    input:
        "accuracies/accuracy_scores.csv"
